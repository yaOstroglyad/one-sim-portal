@import "src/scss/variables";

:host {
  ng-scrollbar {
    --scrollbar-thumb-color: var(--cui-border-color, --os-color-light);
    --scrollbar-track-color: var(--cui-body-color, $color-dark-contrast);
    --scrollbar-hover-size: calc(var(--scrollbar-size) * 1.5);
  }

  .sidebar-bg {
    background: $white-87-opacity;
    box-shadow: 0 0 12px $color-medium-shade;
    border-right: 3px solid $primary-color-border;
  }

  .sidebar-toggler {
    background-color: $primary-color-border;
  }

  .sidebar-brand {
    background: none;
  }

  ::ng-deep .sidebar-nav {
    --cui-sidebar-nav-group-indicator: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='#{$primary-color-contrast}'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
    --cui-sidebar-nav-group-indicator-hover: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='#{$primary-color-contrast}'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");

    .nav-link {
      color: $primary-color-contrast;
      background: $white-87-opacity;

      &:hover {
        background: $color-light-shade;
      }

      &.active {
        color: $primary-shade;

        .nav-icon {
          color: $primary-shade;
        }
      }

      .nav-icon {
        color: $primary-color-contrast;
      }
    }

    .nav-group {
      .nav-group-toggle {
        color: var(--os-color-primary-contrast);
      }

      &.show {
        > .nav-link::after {
          color: $primary-color-contrast !important;
          border-top-color: $primary-color-contrast !important;
          border-color: $primary-color-contrast !important;
          transform: rotate(180deg) !important;
        }
      }

      .nav-link::after {
        color: $primary-color-contrast !important;
        border-top-color: $primary-color-contrast !important;
        border-color: $primary-color-contrast !important;
      }

      .nav-group-items {
        .nav-group {
          &.show {
            > .nav-link::after {
              border-top-color: $primary-color-contrast !important;
              transform: rotate(180deg) !important;
            }
          }

          .nav-link {
            background: $white-87-opacity;

            &:hover {
              background: $color-light-shade;
            }
          }
        }
      }

      > .nav-group-items {
        > .nav-item > .nav-link,
        > .nav-group > .nav-link {
          padding-left: 3rem !important;
        }

        .nav-group {
          > .nav-group-items {
            > .nav-item > .nav-link {
              padding-left: 4.5rem !important;
            }
          }
        }
      }
    }
  }
}

:host-context([dir="rtl"]) {
  .sidebar-bg {
    border-left: 3px solid $primary-color-border;
    border-right: none;
  }

  ::ng-deep .sidebar-nav {
    .nav-link {
      justify-content: right;

      .nav-icon {
        order: 1;
        margin-right: calc(var(--cui-sidebar-nav-link-padding-y) * -1.4);
      }
    }

    .nav-group {
      > .nav-group-items {
        > .nav-item > .nav-link,
        > .nav-group > .nav-link {
          padding-right: 3rem !important;
          padding-left: 1rem !important;
        }

        .nav-group {
          > .nav-group-items {
            > .nav-item > .nav-link {
              padding-right: 4.5rem !important;
              padding-left: 1rem !important;
            }
          }
        }
      }
    }
  }

  ::ng-deep .sidebar-narrow-unfoldable {
    .nav-icon {
      + c-sidebar-nav-link-content {
        display: none;
      }
    }

    &:hover {
      .nav-icon {
        + c-sidebar-nav-link-content {
          display: block;
        }
      }
    }
  }
}

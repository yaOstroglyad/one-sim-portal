<div class="selected-tariff-offer-details" *ngIf="tariffOffer">
  <div class="header-section" *ngIf="showTitle || showEditButton">
    <h5 class="section-title" *ngIf="showTitle">Selected Tariff Offer Details</h5>
    <button 
      *ngIf="showEditButton"
      cButton
      variant="outline"
      color="primary"
      size="sm"
      (click)="onEditClick()"
      class="edit-button">
      <mat-icon>edit</mat-icon>
      Modify Price
    </button>
  </div>
  
  <div class="detail-card">
    <div class="detail-row">
      <span class="detail-label">Service Provider:</span>
      <span class="detail-value">{{ tariffOffer.serviceProvider.name }}</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Product:</span>
      <span class="detail-value">{{ tariffOffer.productName }}</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Price:</span>
      <div class="detail-value price-container">
        <!-- Show original price if modified -->
        <div *ngIf="hasModifiedPrice" class="original-price">
          <span class="price-label">Base Price:</span>
          <span class="price-value original">{{ originalPrice }} {{ originalCurrency.toUpperCase() }}</span>
        </div>
        
        <!-- Current price -->
        <div class="current-price" [class.modified]="hasModifiedPrice">
          <span *ngIf="hasModifiedPrice" class="price-label">Company Price:</span>
          <span class="price-value current">{{ tariffOffer.price }} {{ tariffOffer.currency.toUpperCase() }}</span>
          
          <!-- Markup percentage -->
          <span *ngIf="hasModifiedPrice" class="markup-badge" 
                [class.positive]="markupPercentage > 0" 
                [class.negative]="markupPercentage < 0">
            {{ markupPercentage > 0 ? '+' : '' }}{{ markupPercentage | number:'1.1-1' }}%
          </span>
        </div>
      </div>
    </div>
    <div class="detail-row">
      <span class="detail-label">Valid From:</span>
      <span class="detail-value">{{ tariffOffer.validFrom | date:'medium' }}</span>
    </div>
  </div>
  
  <div class="info-note" *ngIf="infoMessage">
    <mat-icon>info</mat-icon>
    <span>{{ infoMessage }}</span>
  </div>
</div>
<div class="company-product-details" *ngIf="companyProduct">
  
  <!-- Status Badge -->
  <div class="status-badge mb-3">
    <span class="badge" [ngClass]="'bg-' + statusColor">
      <mat-icon [innerHTML]="statusIcon"></mat-icon>
      {{ statusText }}
    </span>
  </div>

  <!-- Company Information -->
  <div class="detail-section">
    <h6 class="section-title">
      <mat-icon>business</mat-icon>
      Company Information
    </h6>
    <div class="detail-row">
      <span class="detail-label">Company Name:</span>
      <span class="detail-value">{{ companyProduct.company.name }}</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Account ID:</span>
      <span class="detail-value text-muted">{{ companyProduct.company.accountId }}</span>
    </div>
  </div>

  <!-- Product Information -->
  <div class="detail-section">
    <h6 class="section-title">
      <mat-icon>layers</mat-icon>
      Product Information
    </h6>
    <div class="detail-row">
      <span class="detail-label">Product Name:</span>
      <span class="detail-value">{{ companyProduct.name }}</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Description:</span>
      <span class="detail-value">{{ companyProduct.description || 'No description provided' }}</span>
    </div>
  </div>

  <!-- Coverage & Pricing -->
  <div class="detail-section">
    <h6 class="section-title">
      <mat-icon>public</mat-icon>
      Coverage & Pricing
    </h6>
    <div class="detail-row" *ngIf="companyProduct.serviceCoverage">
      <span class="detail-label">Service Coverage:</span>
      <span class="detail-value">
        <mat-icon [innerHTML]="coverageTypeIcon"></mat-icon>
        {{ companyProduct.serviceCoverage.name }} 
        <span class="text-muted">({{ companyProduct.serviceCoverage.type }})</span>
      </span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Price:</span>
      <span class="detail-value fw-bold">{{ formattedPrice }}</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Validity Period:</span>
      <span class="detail-value">{{ formattedValidityPeriod }}</span>
    </div>
  </div>

  <!-- Usage Units -->
  <div class="detail-section">
    <h6 class="section-title">
      <mat-icon>cloud_download</mat-icon>
      Usage Units
    </h6>
    <div class="usage-units-grid" *ngIf="processedUsageUnits.length > 0">
      <div class="usage-unit-card" *ngFor="let unit of processedUsageUnits">
        <div class="unit-icon">
          <mat-icon [innerHTML]="unit.icon"></mat-icon>
        </div>
        <div class="unit-details">
          <div class="unit-type">{{ unit.typeDisplay }}</div>
          <div class="unit-value">{{ unit.formattedValue }}</div>
        </div>
      </div>
    </div>
    <div *ngIf="processedUsageUnits.length === 0" class="text-muted">
      No usage units available
    </div>
  </div>

  <!-- Metadata -->
  <div class="detail-section">
    <h6 class="section-title">
      <mat-icon>info</mat-icon>
      Additional Information
    </h6>
    <div class="detail-row">
      <span class="detail-label">Product ID:</span>
      <span class="detail-value text-muted">{{ companyProduct.id }}</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Company ID:</span>
      <span class="detail-value text-muted">{{ companyProduct.company.id }}</span>
    </div>
  </div>

</div>
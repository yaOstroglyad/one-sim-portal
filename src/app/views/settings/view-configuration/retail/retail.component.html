<ng-container *ngIf="formConfig$ | async as formConfig">
  <div class="retail-container">
    <!-- Левая часть с превью -->
    <div class="preview-section">
      <div class="preview-header">
        <img *ngIf="formValues?.faviconUrl" [src]="formValues.faviconUrl" alt="Favicon" class="favicon">
        <span class="preview-title">{{ 'retail.preview.title' | translate }}</span>
      </div>
      <app-retail-preview
              [primary]="formValues.primary"
              [primaryHover]="formValues['primary-hover']"
              [borderNeutral]="formValues['border-neutral']"
              [backdrop]="formValues.backdrop"
              [brandName]="formValues.brandName"
              [heroTitle]="formValues.heroTitle"
              [heroSubTitle]="formValues.heroSubTitle"
              [logoWidth]="formValues.logoWidth"
              [logoHeight]="formValues.logoHeight"
              [logoUrl]="formValues.logoUrl"
              [faviconUrl]="formValues.faviconUrl"
              [supportUrl]="formValues.supportUrl">
      </app-retail-preview>
    </div>

    <div class="settings-section">
      <h4>{{ 'retail.settings.title' | translate }}</h4>
      <app-form-generator
        [config]="formConfig"
        (formChanges)="handleFormChanges($event)">
      </app-form-generator>

      <div class="form-actions">
        <button mat-raised-button
                color="primary"
                [disabled]="!isFormValid"
                (click)="save()">
          {{ 'retail.settings.saveButton' | translate }}
        </button>
      </div>
    </div>
  </div>
</ng-container>
